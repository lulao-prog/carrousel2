<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Videos</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
}

.video-carousel-container {
  position: relative;
  overflow: hidden;
}

.video-carousel-track {
  display: flex;
  gap: 20px;
  overflow-x: auto;
  scroll-behavior: smooth;
  padding: 20px;
}

.video-carousel-track::-webkit-scrollbar {
  display: none;
}

.video-card {
  flex: 0 0 320px;
  background: #fff;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,.1);
}

iframe {
  width: 100%;
  height: 200px;
  border: none;
  border-radius: 8px 8px 0 0;
}

.video-title {
  padding: 10px;
  font-weight: bold;
  font-size: 14px;
}

.carousel-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255,255,255,.9);
  border: none;
  font-size: 28px;
  cursor: pointer;
  z-index: 10;
}

.left { left: 5px; }
.right { right: 5px; }

@media(max-width:768px){
  .carousel-btn { display:none; }
  .video-card { flex:0 0 80%; }
}
</style>
</head>

<body>

<div class="video-carousel-container">
  <button class="carousel-btn left" onclick="move(-1)">‹</button>
  <div class="video-carousel-track" id="track"></div>
  <button class="carousel-btn right" onclick="move(1)">›</button>
</div>

<script>
const API_KEY = 'AIzaSyAix0bTL6EjukDl371uzI5DKWnniYtTv9k';
const CHANNEL_ID = 'UCSAimjAvxWVCWVtEdOa7EtQ';
const MAX_RESULTS = 8;

const track = document.getElementById("track");

function move(dir){
  const card = track.querySelector(".video-card");
  if(!card) return;
  track.scrollBy({ left: dir * (card.offsetWidth + 20), behavior: "smooth" });
}

async function loadVideos() {
  try {
    const res = await fetch(
      `https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${CHANNEL_ID}&order=date&maxResults=${MAX_RESULTS}&type=video&key=${API_KEY}`
    );

    const data = await res.json();
    if (!data.items) throw "Error API";

    data.items.forEach(v => {
      const card = document.createElement("div");
      card.className = "video-card";
      card.innerHTML = `
        <iframe src="https://www.youtube.com/embed/${v.id.videoId}" allowfullscreen></iframe>
        <div class="video-title">${v.snippet.title}</div>
      `;
      track.appendChild(card);
    });

  } catch (e) {
    console.error("Error cargando videos", e);
  }
}

loadVideos();
</script>

</body>
</html>
